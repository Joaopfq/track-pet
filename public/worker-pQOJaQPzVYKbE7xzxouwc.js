self.addEventListener("push",i=>{const{title:t,body:n,icon:o}=JSON.parse(i.data.text());i.waitUntil(self.registration.showNotification(t||"Track Pet Notification",{body:n||"",icon:o||"/icons/paw-192.png"}))}),self.addEventListener("notificationclick",i=>{i.notification.close(),i.waitUntil(clients.matchAll({type:"window"}).then(i=>{for(const t of i)if("/"===t.url&&"focus"in t)return t.focus();if(clients.openWindow)return clients.openWindow("/")}))});